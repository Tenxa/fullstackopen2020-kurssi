{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonsMap.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterText","handleChangeFilterText","value","onChange","PersonForm","handleAddPerson","nameText","numberText","handleChangeNameText","handleNumberChangeText","onSubmit","type","PersonsMap","personsToMap","deletePerson","map","person","key","id","name","number","onClick","axios","get","then","response","data","newObject","post","put","delete","Notification","message","includes","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setFilter","showAll","setShowAll","errorMessage","setErrorMessage","getAll","personService","initialPersons","useEffect","personsToShow","filter","toLowerCase","indexOf","event","target","preventDefault","personObj","boolFlag","forEach","window","alert","confirm","newPerson","returnedPerson","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c47f118.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterText, handleChangeFilterText }) => <div><form>Filter: <input value={filterText} onChange={handleChangeFilterText} /></form></div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleAddPerson, nameText, numberText, handleChangeNameText, handleNumberChangeText}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleAddPerson}>\r\n                <div>name: <input value={nameText} onChange={handleChangeNameText} /></div>\r\n                <div>number: <input value={numberText} onChange={handleNumberChangeText} /></div>\r\n                <div><button type=\"submit\">add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonsMap = ({personsToMap, deletePerson}) => {\r\n    return(\r\n        <div>\r\n            {personsToMap.map((person) => \r\n                <div key={person.id}>\r\n                    {person.name} {person.number}\r\n                    <button type='submit' onClick={() => deletePerson(person)}>Delete</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonsMap","import axios from 'axios'\r\nconst baserUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baserUrl)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baserUrl, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baserUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst deleID = (id, newObject) => {\r\n    const request = axios.delete(`${baserUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\n\r\n\r\nexport default { getAll, create, update, deleID }","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n    const notificationAddStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const notificationDelStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n\r\n\r\n    if (message.includes('Deleted') || message.includes('Information')) {\r\n        return (\r\n            <div className=\"notification\" style={notificationDelStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"notification\" style={notificationAddStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonsMap from './components/PersonsMap'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setFilter] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const getAll = () => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  useEffect(() => {\n    getAll()\n  }, [])\n\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObj = {\n      name: newName,\n      number: newNumber,\n      //id: \"\"\n    }\n\n    var boolFlag = false\n    persons.forEach(person => {\n      if (person.name === newName) {\n        window.alert(`${newName} is alreadyy added to phonebook`)\n        if (person.number !== newNumber) {\n          if (window.confirm(`Replace ${newName} number?`)) {\n            person.number = newNumber\n            const newPerson = {...person}\n            personService\n              .update(person.id, newPerson)\n              .then(returnedPerson => {\n                console.log(returnedPerson)\n                getAll()\n              })\n              /*.catch(error => {\n                console.log(error)\n                console.log(`Person -> ${person}`)\n                setErrorMessage(\n                  `Information of ${person.name} has already been removed from server`\n                )\n                getAll()\n                setTimeout(() => {\n                  setErrorMessage('')\n\n                }, 5000)\n              })*/\n          }\n\n        }\n        boolFlag = true\n      }\n    })\n\n    if (boolFlag === false) {\n\n\n      personService\n        .create(personObj)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(`Added ${personObj.name}`)\n          setNewName('')\n          setNewNumber('')\n\n        })\n\n    }\n\n  }\n\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .deleID(person.id, person)\n        .then(response => {\n          getAll()\n          setErrorMessage(`Deleted ${person.name}`)\n        })\n    }\n  }\n\n  //Handlers\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n    if (event.target.value !== '') {\n      setShowAll(false)\n    } else {\n      setShowAll(true)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  //filtering\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().indexOf(newFilter.toLowerCase()) === 0)\n\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter filterText={newFilter} handleChangeFilterText={handleFilterChange} />\n\n      <h2>Add a new</h2>\n      <PersonForm handleAddPerson={addPerson} nameText={newName} numberText={newNumber} handleChangeNameText={handleNameChange} handleNumberChangeText={handleNumberChange} />\n\n      <h2>Numbers</h2>\n      <PersonsMap personsToMap={personsToShow} deletePerson={deletePerson} />\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}