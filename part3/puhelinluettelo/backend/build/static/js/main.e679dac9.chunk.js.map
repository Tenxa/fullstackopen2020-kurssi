{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonsMap.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterText","handleChangeFilterText","value","onChange","PersonForm","handleAddPerson","nameText","numberText","handleChangeNameText","handleNumberChangeText","onSubmit","type","PersonsMap","personsToMap","deletePerson","map","person","key","id","name","number","onClick","axios","get","then","response","data","newObject","post","put","delete","Notification","message","includes","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setFilter","showAll","setShowAll","errorMessage","setErrorMessage","getAll","personService","initialPersons","useEffect","personsToShow","filter","toLowerCase","indexOf","event","target","preventDefault","personObj","boolFlag","forEach","window","alert","confirm","returnedPerson","console","log","catch","error","JSON","stringify","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e679dac9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterText, handleChangeFilterText }) => <div><form>Filter: <input value={filterText} onChange={handleChangeFilterText} /></form></div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleAddPerson, nameText, numberText, handleChangeNameText, handleNumberChangeText}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleAddPerson}>\r\n                <div>name: <input value={nameText} onChange={handleChangeNameText} /></div>\r\n                <div>number: <input value={numberText} onChange={handleNumberChangeText} /></div>\r\n                <div><button type=\"submit\">add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonsMap = ({personsToMap, deletePerson}) => {\r\n    return(\r\n        <div>\r\n            {personsToMap.map((person) => \r\n                <div key={person.id}>\r\n                    {person.name} {person.number}\r\n                    <button type='submit' onClick={() => deletePerson(person)}>Delete</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonsMap","import axios from 'axios'\r\nconst baserUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baserUrl)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baserUrl, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baserUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst deleID = (id, newObject) => {\r\n    const request = axios.delete(`${baserUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\n\r\n\r\nexport default { getAll, create, update, deleID }","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n    const notificationAddStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const notificationDelStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n\r\n\r\n    if (message.includes('Deleted') || message.includes('Information')) {\r\n        return (\r\n            <div className=\"notification\" style={notificationDelStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"notification\" style={notificationAddStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport PersonsMap from './components/PersonsMap'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setFilter] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const getAll = () => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAll()\r\n  }, [])\r\n\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObj = {\r\n      name: newName,\r\n      number: newNumber,\r\n      //id: \"\"\r\n    }\r\n\r\n    var boolFlag = false\r\n    persons.forEach(person => {\r\n      if (person.name === newName) {\r\n        window.alert(`${newName} is alreadyy added to phonebook`)\r\n        if (person.number !== newNumber) {\r\n          if (window.confirm(`Replace ${newName} number?`)) {\r\n            person.number = newNumber\r\n            personService\r\n              .update(person.id, person)\r\n              .then(returnedPerson => {\r\n                console.log(returnedPerson)\r\n                getAll()\r\n              })\r\n              .catch(error => {\r\n                console.log(error)\r\n                console.log(`Person -> ${JSON.stringify(person)}`)\r\n                setErrorMessage(\r\n                  `Information of ${person.name} has already been removed from server`\r\n                )\r\n                getAll()\r\n                setTimeout(() => {\r\n                  setErrorMessage('')\r\n\r\n                }, 5000)\r\n              })\r\n          }\r\n\r\n        }\r\n        boolFlag = true\r\n      }\r\n    })\r\n\r\n    if (boolFlag === false) {\r\n\r\n\r\n      personService\r\n        .create(personObj)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setErrorMessage(`Added ${personObj.name}`)\r\n          setNewName('')\r\n          setNewNumber('')\r\n\r\n        })\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      personService\r\n        .deleID(person.id, person)\r\n        .then(response => {\r\n          getAll()\r\n          setErrorMessage(`Deleted ${person.name}`)\r\n        })\r\n    }\r\n  }\r\n\r\n  //Handlers\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n    if (event.target.value !== '') {\r\n      setShowAll(false)\r\n    } else {\r\n      setShowAll(true)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  //filtering\r\n  const personsToShow = showAll\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().indexOf(newFilter.toLowerCase()) === 0)\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} />\r\n      <Filter filterText={newFilter} handleChangeFilterText={handleFilterChange} />\r\n\r\n      <h2>Add a new</h2>\r\n      <PersonForm handleAddPerson={addPerson} nameText={newName} numberText={newNumber} handleChangeNameText={handleNameChange} handleNumberChangeText={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n      <PersonsMap personsToMap={personsToShow} deletePerson={deletePerson} />\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n"],"sourceRoot":""}